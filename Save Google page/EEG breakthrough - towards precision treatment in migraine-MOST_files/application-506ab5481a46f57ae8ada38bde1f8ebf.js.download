//# sourceMappingURL=application.js.map
document.addEventListener("DOMContentLoaded",function(){var e=$("#select_list_filter"),a=e.data("url");$("#w_search_btn").on("click",function(){-1==a.indexOf("?")?a+="?":a+="&";window.location=a+"filter_uid="+e.val()+"&do=1"});var b=$(".faq_area .faq_box .question"),f=$(".faq_area .faq_box .answer");f.hide();b.on("click focus",function(b){b=$(b.target).closest(".faq_box");0==b.find(".answer:visible").length?(f.hide(),b.find(".answer").show()):f.hide()});$(".faq_area .faq_box").on("focus",function(b){$(".faq_area .faq_box .answer").hide();
$(b.target).find(".answer").show()});b=$(".rd_googleSearch");b.show();b.find(".button").on("click",function(){var b=$(this).closest("form").data("url")+"?"+$(this).closest("form").find("input").serialize();window.open(b,"_blank")});b.keypress(function(b){13==b.which&&(b.preventDefault(),b=$(this).closest("form").data("url")+"?"+$(this).closest("form").find("input").serialize(),window.open(b,"_blank"))})});"undefined"!==typeof jQuery&&function(e){e("#spinner").ajaxStart(function(){e(this).fadeIn()}).ajaxStop(function(){e(this).fadeOut()})}(jQuery);
function go_top(){$("html,body").animate({scrollTop:0},{duration:300,complete:function(){$("#gotocenter").focus()}})}
function shares(e,a,b){a=b;if(""==b||void 0==b||"undefined"==b)a=window.location.href;switch(e){case "fb":window.open("https://www.facebook.com/dialog/share?app_id=919550288087306&display=popup&href="+encodeURIComponent(a)+"&redirect_uri="+encodeURIComponent(a));break;case "tr":window.open("http://www.twitter.com/share?url=".concat(encodeURIComponent(a)));break;case "gp":window.open("http://plus.google.com/share?url=".concat(encodeURIComponent(a)))}return!1}
function getUrlParameter(e){for(var a=window.location.search.substring(1).split("&"),b=0;b<a.length;b++){var f=a[b].split("=");if(f[0]==e)return f[1]}}function is_mobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&768>=$(window).width()?!0:!1}function get_current_year_data(e,a){$.ajax({url:e,type:"GET",dataType:"json",success:function(b){b.success&&a(b.result)},fail:function(){console.log("\u627e\u4e0d\u5230\u6700\u5927\u5e74\u9650.")}})}
function bind_general_chart_option_panel(e,a,b,f,q,r,t,u){var m="",g="",d=b.find('select[name="beginYears"]'),h=b.find('select[name="endYears"]'),k=b.find("#reportCategory"),c=b.find('select[name="reportType"]');get_current_year_data(a,function(a){m=a.minYear;g=a.maxYear;for(a=m;a<=g;a++)d.append("<option value='"+a+"'>"+a+"</option>"),h.append("<option value='"+a+"'>"+a+"</option>");"ch"==r?(c.append('<option data-report_category="1" value="ROC">\u4e2d\u83ef\u6c11\u570b</option>'),c.append('<option data-report_category="1" value="PRC">\u4e2d\u570b\u5927\u9678</option>'),
c.append('<option data-report_category="1" value="Korea">\u5357\u97d3</option>'),c.append('<option data-report_category="1" value="Germany">\u5fb7\u570b</option>'),c.append('<option data-report_category="1" value="Singapore">\u65b0\u52a0\u5761</option>'),c.append('<option data-report_category="1" value="Japan">\u65e5\u672c</option>'),c.append('<option data-report_category="1" value="France">\u6cd5\u570b</option>'),c.append('<option data-report_category="1" value="United States">\u7f8e\u570b</option>'),
c.append('<option data-report_category="1" value="Finland">\u82ac\u862d</option>'),c.append('<option data-report_category="1" value="United Kingdom">\u82f1\u570b</option>'),c.append('<option data-report_category="2" value="A" style="display:none">\u4f9d\u57f7\u884c\u90e8\u9580\u5340\u5206</option>'),c.append('<option data-report_category="2" value="B" style="display:none">\u4f9d\u7d93\u8cbb\u4f86\u6e90\u5340\u5206</option>'),c.append('<option data-report_category="2" value="0" style="display:none">\u4f9d\u7814\u767c\u985e\u578b\u5340\u5206</option>')):
(c.append('<option data-report_category="1" value="ROC">Taiwan</option>'),c.append('<option data-report_category="1" value="PRC">China</option>'),c.append('<option data-report_category="1" value="Korea">South Korea</option>'),c.append('<option data-report_category="1" value="Germany">Germany</option>'),c.append('<option data-report_category="1" value="Singapore">Singapore</option>'),c.append('<option data-report_category="1" value="Japan">Japan</option>'),c.append('<option data-report_category="1" value="France">France</option>'),
c.append('<option data-report_category="1" value="United States">United States</option>'),c.append('<option data-report_category="1" value="Finland">Finland</option>'),c.append('<option data-report_category="1" value="United Kingdom">United Kingdom</option>'),c.append('<option data-report_category="2" value="A" style="display:none">By Sector of Performance</option>'),c.append('<option data-report_category="2" value="B" style="display:none">By Source of Funds</option>'),c.append('<option data-report_category="2" value="0" style="display:none">By Type of R&D</option>'));
var l=b.find('select[name="endYears"] option');d.on("change",function(){var b=parseInt(d.val()),c=!0;$.each(l,function(p,a){var d=$(a);parseInt(d.val())>=b?(d.show(),c&&(d.prop("selected","selected"),c=!1)):d.hide()})});var p=b.find('select[name="reportType"] option'),s=b.find(".optional_options");k.on("change",function(){var c=k.val(),b=!0;2<c?s.hide():(s.show(),$.each(p,function(a,p){var d=$(p);d.data("report_category")==c?(d.show(),b&&(d.prop("selected","selected"),b=!1)):d.hide()}))});d.prop("selectedIndex",
0);h.prop("selectedIndex",l.length-1);c.prop("selectedIndex",0);f.on("click",function(){var b={beginYears:d.val(),endYears:h.val()};switch(k.val()){case "1":b.uri="rdReport/rdGdpReport";b.countryName=c.val();break;case "2":var p=c.val();"0"==p?b.uri="rdReport/rdRdTypeReport":(b.uri="rdReport/rdSectorReport",b.reportId=p);break;case "3":b.uri="rdReport/rdGenderAndOccupationReport";break;case "4":b.uri="rdReport/rdQualificationReport"}get_general_chartjs_displayable_data(e,b,r,k.val(),q,t)});u()})}
function get_general_chartjs_displayable_data(e,a,b,f,q,r){$.ajax({url:e,data:a,type:"POST",dataType:"json",success:function(a){var e=[],m=[],g=[{fill:"rgba(200,164,205,0.2)",stroke:"rgba(200,164,205,1)"},{fill:"rgba(220,220,220,0.2)",stroke:"rgba(220,220,220,1)"},{fill:"rgba(151,187,205,0.2)",stroke:"rgba(151,187,205,1)"},{fill:"rgba(205,137,112,0.2)",stroke:"rgba(205,137,112,1)"},{fill:"rgba(171,205,140,0.2)",stroke:"rgba(171,205,140,1)"},{fill:"rgba(165,140,230,0.2)",stroke:"rgba(165,140,230,1)"},
{fill:"rgba(200,105,100,0.2)",stroke:"rgba(200,105,100,1)"},{fill:"rgba(181,230,192,0.2)",stroke:"rgba(181,230,192,1)"}];if(a.success){switch(f){case "1":var d=0,h="";$.each(a.result,function(c,a){if(0<a.length){var f=[];$.each(a,function(b,c){e.push(c.year);f.push(c.rate)});m.push({label:"ch"==b?a[0].countryName:a[0].countryEngName,fillColor:g[d].fill,strokeColor:g[d].stroke,pointColor:g[d].stroke,pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:g[d].stroke,data:f});d++;""==
h&&(h="ch"==b?a[0].reportUnitName:a[0].reportUnitEngName)}});q.text(h);break;case "2":var h="",k=[];$.each(a.result,function(c,a){var d,e=null;d="organizationName"in a?"ch"==b?a.organizationName:a.organizationEngName:"ch"==b?a.rdTypeName:a.rdTypeEngName;$.each(k,function(a,b){b.name==d&&(e=b)});null==e&&(e={name:d,stats:[]},k.push(e));e.stats.push({amount:a.amount,rate:a.rate,year:a.year});""==h&&(h="ch"==b?a.reportUnitName:a.reportUnitEngName)});d=0;$.each(k,function(a,b){var c=[];$.each(b.stats,
function(b,a){c.push(a.amount);e.push(a.year)});m.push({label:b.name,fillColor:g[d].fill,strokeColor:g[d].stroke,pointColor:g[d].stroke,pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:g[d].stroke,data:c});d++});q.text(h);break;case "3":var h="",c=[];$.each(a.result,function(a,d){var e="ch"==b?d.occupationName+" - "+d.genderName:d.occupationEngName+" - "+d.genderEngName,f=null;$.each(c,function(a,b){b.name==e&&(f=b)});null==f&&(f={name:e,stats:[]},c.push(f));f.stats.push({amount:d.numberOfPeople,
year:d.year});""==h&&(h="ch"==b?d.reportUnitName:d.reportUnitEngName)});d=0;$.each(c,function(b,a){var c=[];$.each(a.stats,function(a,b){c.push(b.amount);e.push(b.year)});m.push({label:a.name,fillColor:g[d].fill,strokeColor:g[d].stroke,pointColor:g[d].stroke,pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:g[d].stroke,data:c});d++});q.text(h);break;case "4":h="",c=[],$.each(a.result,function(a,d){var e="ch"==b?d.qualificationName:d.qualificationEngName,f=null;$.each(c,function(a,
b){b.name==e&&(f=b)});null==f&&(f={name:e,stats:[]},c.push(f));f.stats.push({amount:d.numberOfPeople,year:d.year});""==h&&(h="ch"==b?d.reportUnitName:d.reportUnitEngName)}),d=0,$.each(c,function(b,a){var c=[];$.each(a.stats,function(a,b){c.push(b.amount);e.push(b.year)});m.push({label:a.name,fillColor:g[d].fill,strokeColor:g[d].stroke,pointColor:g[d].stroke,pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:g[d].stroke,data:c});d++}),q.text(h)}a={labels:unique(e),datasets:m};for(d=
0;d<a.datasets.length;d++){var n=!0;$.each(a.datasets[d].data,function(b,a){if(0!=a)return n=!1});n&&(a.datasets.splice(d,1),d--)}r(a)}else console.log("\u7121\u6cd5\u53d6\u5f97\u5716\u8868\u8cc7\u6599.")},fail:function(){console.log("\u7121\u6cd5\u53d6\u5f97\u5716\u8868\u8cc7\u6599.")}})}function unique(e){var a=[];$.each(e,function(b,e){-1==$.inArray(e,a)&&a.push(e)});return a}var is_academic_filtered_event_running=!1;
function show_academic_filtered_events(e){if(!is_academic_filtered_event_running){is_academic_filtered_event_running=!0;var a=$(".rd_news_filter_container").data("url");if(null!=e){var b=$("#academic_news_filter"),f=$(e);"all"==e.data("uid")?0==f.find("span").length?$.each(b.find("button"),function(b,a){if(0==$(a).find("span").length){var e=$(a).text();$(a).html("<span></span>"+e)}}):b.find("button span").remove():(0==f.find("span").length?(e=f.text(),f.html("<span></span>"+e)):f.find("span").remove(),
f=$(b.find("button")[0]),e=f.text(),5==b.find("button:not(:first-child) span").length?f.html("<span></span>"+e):f.find("span").remove())}$.ajax({url:a,data:collect_selected_news_filters(),type:"POST",dataType:"json",success:function(a){is_academic_filtered_event_running=!1;var b=$(".rd_news_filter_container").data("root");if(200==a.status){var e="",f=0;$.each(a.data.result.taxonomyArticles.result,function(a,g){if(3<f)return!1;var d="P"==g.articleContentType?"detail":"list",h,k;$.each(g.articleTaxonomies,
function(a,b){if("Y"==b.taxonomy.isVisible&&"T"==b.taxonomy.taxonomyType)return k=b.taxonomy,!1});if(null!=g.activityStartDate&&null!=g.activityFinishDate){var c=new Date(g.activityStartDate),n=c.getFullYear(),l=c.getMonth(),c=c.getDate();h=n+"-"+(8<l?l+1:"0"+(l+1))+"-"+(9<c?c:"0"+c);c=new Date(g.activityFinishDate);n=c.getFullYear();l=c.getMonth();c=c.getDate();h+="~"+n+"-"+(8<l?l+1:"0"+(l+1))+"-"+(9<c?c:"0"+c)}else c=new Date(g.publishDate),n=c.getFullYear(),l=c.getMonth(),c=c.getDate(),h=n+"-"+
(8<l?l+1:"0"+(l+1))+"-"+(9<c?c:"0"+c);"U"==g.articleContentType?(d=g.articleLinks[0].link,e="Y"==d.isOpenNewWindow?e+('<a target="_blank" href='+d.linkUrl+' class="'+k.color+'"><div class="clearfix marb_10"><div class="title">'+k.taxonomyName+'</div><div class="date">'+h+"</div></div><p>"+g.articleTitle+"</p></a>"):e+("<a href="+d.linkUrl+' class="'+k.color+'"><div class="clearfix marb_10"><div class="title">'+k.taxonomyName+'</div><div class="date">'+h+"</div></div><p>"+g.articleTitle+"</p></a>")):
e+="<a href="+b+"folksonomy/"+d+"/?subSite=main&article_uid="+g.articleUid+"&menu_id="+k.taxonomyUid+' class="'+k.color+'"><div class="clearfix marb_10"><div class="title">'+k.taxonomyName+'</div><div class="date">'+h+"</div></div><p>"+g.articleTitle+"</p></a>";f++});$(".news_list").empty().html(e)}}})}}
function collect_selected_news_filters(){var e="",a=$("#academic_news_filter");$.each(a.find("button"),function(a,f){1==$(f).find("span").length&&(e+="&uids="+$(f).data("uid"))});e=e.replace("&","");a=$("form.rd_news_filter.now");return e=""==e?"tagUid="+a.data("tag_uid"):e+("&tagUid="+a.data("tag_uid"))}function getUrlParameter(e){var a=decodeURIComponent(window.location.search.substring(1)).split("&"),b,f;for(f=0;f<a.length;f++)if(b=a[f].split("="),b[0]===e)return void 0===b[1]?!0:b[1]};